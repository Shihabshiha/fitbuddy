import{a as u,q as h,j as e,S as b,Y as g,Z as j,_ as r,$ as t,k as N,a0 as f,n,A as y}from"./index-61c849f7.js";import{a as w}from"./TrainerCommonValidation-f0c7dcd1.js";const k=()=>{const[l,m]=u.useState(!1),c=h(),x=async s=>{var d,o;try{m(!0);const a=new FormData;a.append("courseName",s.courseName),a.append("description",s.description),a.append("about",s.about),a.append("duration",s.duration.toString()),a.append("category",s.category),a.append("level",s.level),a.append("isPaid",s.isPaid.toString());for(let i=0;i<s.thumbnail.length;i++)a.append("thumbnail",s.thumbnail[i]);s.isPaid&&a.append("price",String(s.price)),await f(a),m(!1),n("Course added successfully","success"),c("/trainer/my-courses")}catch(a){a instanceof y&&((o=(d=a.response)==null?void 0:d.data)!=null&&o.error)?n(a.response.data.error,"error"):n("An error occurred in adding the course.","error")}},p={courseName:"",description:"",about:"",duration:0,category:"",level:"",price:0,isPaid:!1,thumbnail:[]};return e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[l&&e.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-opacity-50 bg-white",children:e.jsx(b,{color:"#007BFF",loading:!0})}),e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Add a New Course"}),e.jsx(g,{initialValues:p,validationSchema:w,onSubmit:x,children:({setFieldValue:s,values:d})=>e.jsxs(j,{className:"flex flex-wrap -mx-4 ",children:[e.jsxs("div",{className:"mb-4 px-4 w-1/2",children:[e.jsx("label",{htmlFor:"courseName",className:"block text-sm font-medium text-gray-700",children:"Course Name"}),e.jsx(r,{type:"text",id:"courseName",name:"courseName",className:"form-input rounded shadow-md border-gray-200"}),e.jsx(t,{name:"courseName",component:"div",className:"text-red-500"})]}),e.jsxs("div",{className:"mb-4 px-4 w-1/2",children:[e.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700",children:"Duration (in hours)"}),e.jsx(r,{type:"number",id:"duration",name:"duration",className:"form-input rounded shadow-md border-gray-200"}),e.jsx(t,{name:"duration",component:"div",className:"text-red-500"})]}),e.jsxs("div",{className:"mb-4 px-4 w-1/2",children:[e.jsx("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700",children:"About"}),e.jsx(r,{as:"textarea",id:"about",name:"about",className:"form-textarea h-24 rounded shadow-md border-gray-200"}),e.jsx(t,{name:"about",component:"div",className:"text-red-500"})]}),e.jsxs("div",{className:"mb-4 px-4 w-1/2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx(r,{as:"textarea",id:"description",name:"description",className:" h-16 rounded shadow-md  border-gray-200"}),e.jsx(t,{name:"description",component:"div",className:"text-red-500"})]}),e.jsxs("div",{className:"mb-4 px-4 w-1/2",children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsx(r,{type:"text",id:"category",name:"category",className:"form-input rounded shadow-md border-gray-200"}),e.jsx(t,{name:"category",component:"div",className:"text-red-500"})]}),e.jsxs("div",{className:"mb-4 px-4 w-1/2",children:[e.jsx("label",{htmlFor:"level",className:"block text-sm font-medium text-gray-700",children:"Level"}),e.jsxs(r,{as:"select",id:"level",name:"level",className:"form-input rounded shadow-md border-gray-200",children:[e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Professional",children:"Professional"})]}),e.jsx(t,{name:"level",component:"div",className:"text-red-500"})]}),e.jsxs("div",{className:"mb-4 px-4 w-1/2 flex items-center",children:[e.jsx("label",{htmlFor:"isPaid",className:"flex text-sm font-medium text-gray-700",children:"Is Paid"}),e.jsx(r,{type:"checkbox",id:"isPaid",name:"isPaid",className:"form-checkbox ml-4 rounded shadow-md border-gray-200"}),e.jsx(t,{name:"isPaid",component:"div",className:"text-red-500"})]}),d.isPaid&&e.jsxs("div",{className:"mb-4 px-4 w-1/2",children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price"}),e.jsx(r,{type:"number",id:"price",name:"price",className:"form-input rounded shadow-md border-gray-200"}),e.jsx(t,{name:"price",component:"div",className:"text-red-500"})]}),e.jsxs("div",{className:"mb-4 px-4 w-1/2",children:[e.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"Image"}),e.jsx("input",{id:"thumbnail",name:"thumbnail",type:"file",multiple:!0,accept:".jpg,.jpeg,.png",className:"block rounded border-gray-200 shadow-md",onChange:o=>{s("thumbnail",o.currentTarget.files)}})]}),e.jsx("div",{className:"block  w-full px-4",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md shadow-md",children:"Add Course"})})]})}),e.jsx(N,{})]})};export{k as default};
